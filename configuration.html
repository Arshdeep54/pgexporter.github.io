---
layout: default
---

<div id="home">
    <h1>
        {% for header in site.headers %}
        <a class="header" href="{{ header.url }}">{{ header.name }}</a>
        {% endfor %}
    </h1>
    <p/>

    <h2>pgexporter.conf</h2>

    <h3>[pgexporter]</h3>

    Main configuration of pgexporter.
    <p/>
    
    <table border="1">
      <thead>
        <th align="left">Property</th>
        <th align="left">Default</th>
        <th align="left">Unit</th>
        <th align="left">Required</th>
        <th align="left">Description</th>
      </thead>
      <tbody>
        <tr>
          <td>host</td>
          <td></td>
          <td>String</td>
          <td>Yes</td>
          <td>The bind address for pgexporter</td>
        </tr>
        <tr>
          <td>unix_socket_dir</td>
          <td></td>
          <td>String</td>
          <td>Yes</td>
          <td>The Unix Domain Socket location</td>
        </tr>
        <tr>
          <td>metrics</td>
          <td></td>
          <td>Int</td>
          <td>Yes</td>
          <td>The metrics port</td>
        </tr>
        <tr>
          <td>management</td>
          <td>0</td>
          <td>Int</td>
          <td>No</td>
          <td>The remote management port (disable = 0)</td>
        </tr>
        <tr>
          <td>cache</td>
          <td>on</td>
          <td>Bool</td>
          <td>No</td>
          <td>Cache connection</td>
        </tr>
        <tr>
          <td>log_type</td>
          <td>console</td>
          <td>String</td>
          <td>No</td>
          <td>The logging type (console, file, syslog)</td>
        </tr>
        <tr>
          <td>log_level</td>
          <td>info</td>
          <td>String</td>
          <td>No</td>
          <td>The logging level (fatal, error, warn, info, debug1, ..., debug5)</td>
        </tr>
        <tr>
          <td>log_path</td>
          <td>pgexporter.log</td>
          <td>String</td>
          <td>No</td>
          <td>The log file location</td>
        </tr>
        <tr>
          <td>blocking_timeout</td>
          <td>30</td>
          <td>Int</td>
          <td>No</td>
          <td>The number of seconds the process will be blocking for a connection (disable = 0)</td>
        </tr>
        <tr>
          <td>tls</td>
          <td>off</td>
          <td>Bool</td>
          <td>No</td>
          <td>Enable Transport Layer Security (TLS)</td>
        </tr>
        <tr>
          <td>tls_cert_file</td>
          <td></td>
          <td>String</td>
          <td>No</td>
          <td>Certificate file for TLS. This file must be owned by either the user running pgexporter or root</td>
        </tr>
        <tr>
          <td>tls_key_file</td>
          <td></td>
          <td>String</td>
          <td>No</td>
          <td>Private key file for TLS. This file must be owned by either the user running pgexporter or root.
            Additionally permissions must be at least 0640 when owned by root or 0600 otherwise.</td>
        </tr>
        <tr>
          <td>tls_ca_file</td>
          <td></td>
          <td>String</td>
          <td>No</td>
          <td>Certificate Authority (CA) file for TLS. This file must be owned by either the user running pgexporter or root</td>
        </tr>
        <tr>
          <td>libev</td>
          <td>auto</td>
          <td>String</td>
          <td>No</td>
          <td>Select the <a href="http://software.schmorp.de/pkg/libev.html">libev</a> backend to use. Valid options: auto, select, poll, epoll, iouring, devpoll and port</td>
        </tr>
        <tr>
          <td>buffer_size</td>
          <td>65535</td>
          <td>Int</td>
          <td>No</td>
          <td>The network buffer size (SO_RCVBUF and SO_SNDBUF)</td>
        </tr>
        <tr>
          <td>keep_alive</td>
          <td>on</td>
          <td>Bool</td>
          <td>No</td>
          <td>Have SO_KEEPALIVE on sockets</td>
        </tr>
        <tr>
          <td>nodelay</td>
          <td>on</td>
          <td>Bool</td>
          <td>No</td>
          <td>Have TCP_NODELAY on sockets</td>
        </tr>
        <tr>
          <td>non_blocking</td>
          <td>on</td>
          <td>Bool</td>
          <td>No</td>
          <td>Have O_NONBLOCK on sockets</td>
        </tr>
        <tr>
          <td>backlog</td>
          <td>16</td>
          <td>Int</td>
          <td>No</td>
          <td>The backlog for listen(). Minimum 16</td>
        </tr>
        <tr>
          <td>hugepage</td>
          <td>try</td>
          <td>String</td>
          <td>No</td>
          <td>Huge page support (off, try, on)</td>
        </tr>
        <tr>
          <td>pidfile</td>
          <td></td>
          <td>String</td>
          <td>No</td>
          <td>Path to the PID file</td>
        </tr>
      </tbody>
    </table>

    <p/>
      
    <h3>Server section</h3>

    Specifies the PostgreSQL instances.
    <p/>

    <table border="1">
      <thead>
        <th align="left">Property</th>
        <th align="left">Default</th>
        <th align="left">Unit</th>
        <th align="left">Required</th>
        <th align="left">Description</th>
      </thead>
      <tbody>
        <tr>
          <td>host</td>
          <td></td>
          <td>String</td>
          <td>Yes</td>
          <td>The address of the PostgreSQL instance</td>
        </tr>
        <tr>
          <td>port</td>
          <td></td>
          <td>Int</td>
          <td>Yes</td>
          <td>The port of the PostgreSQL instance</td>
        </tr>
        <tr>
          <td>user</td>
          <td></td>
          <td>String</td>
          <td>Yes</td>
          <td>The user name</td>
        </tr>
        <tr>
          <td>data_dir</td>
          <td></td>
          <td>String</td>
          <td>No</td>
          <td>The location of the data directory</td>
        </tr>
        <tr>
          <td>wal_dir</td>
          <td></td>
          <td>String</td>
          <td>No</td>
          <td>The location of the WAL directory</td>
        </tr>
      </tbody>
    </table>

    <p/>
    The configuration is loaded from either the path specified by the -c flag or /etc/pgexporter/pgexporter.conf.

    <h3>Example</h3>

    <pre>
[pgexporter]
host = *
metrics = 5002

log_type = file
log_level = info
log_path = /tmp/pgexporter.log

unix_socket_dir = /tmp/

[primary]
host = localhost
port = 5432
user = pgexporter
    </pre>

    <h2>pgexporter_users.conf</h2>

    The pgexporter_users configuration defines the users known to the system. This file is created and managed through
    the pgexporter-admin tool.
    <p/>
    The configuration is loaded from either the path specified by the -u flag or /etc/pgexporter/pgexporter_users.conf.

    <h2>pgexporter_admins.conf</h2>

    The pgexporter_admins configuration defines the administrators known to the system. This file is created and managed through
    the pgexporter-admin tool.
    <p/>
    The configuration is loaded from either the path specified by the -A flag or /etc/pgexporter/pgexporter_admins.conf.
    <p/>

    If pgexporter has both Transport Layer Security (TLS) and "management" enabled then pgexporter-cli can
    connect with TLS using the files ~/.pgexporter/pgexporter.key (must be 0600 permission),
    ~/.pgexporter/pgexporter.crt and ~/.pgexporter/root.crt.

</div>
